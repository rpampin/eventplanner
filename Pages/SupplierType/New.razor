@page "/supplier-type"
@using EventPlanner.Models
@using EventPlanner.Data
@inject SupplierTypeService supplierTypeService
@inject NavigationManager NavigationManager

<MudText Typo="Typo.h2">New Supplier Type</MudText>

<EditForm Model="@obj" OnValidSubmit="Insert">
    <DataAnnotationsValidator />
    <MudCard>
        <MudCardContent>
            <MudTextField Label="Name" @bind-Value="obj.Name" For="@(() => obj.Name)" />
        </MudCardContent>
        <MudCardActions>
            <MudButton ButtonType="ButtonType.Submit" Variant="Variant.Filled" Color="Color.Success">Save</MudButton>
            <MudButton Variant="Variant.Filled" Color="Color.Info" OnClick="Cancel">Cancel</MudButton>
        </MudCardActions>
    </MudCard>
</EditForm>

@code {
    MudForm form;
    bool success;
    string[] errors = { };

    SupplierType obj = new SupplierType();

    protected async void Insert()
    {
        await supplierTypeService.InsertOne(obj);
        NavigationManager.NavigateTo("supplier-types");
    }

    void Cancel()
        => NavigationManager.NavigateTo("supplier-types");

}
